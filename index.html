<html>
<head>
    <title>League of Kingdoms Helper</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="js/helper.js?v=1"></script>
    <script type="text/javascript" src="js/storage.js?v=1"></script>
    <script type="text/javascript" src="js/setting.js?v=1"></script>
    <script type="text/javascript" src="js/building.js?v=1"></script>
    <script type="text/javascript" src="js/research.js?v=1"></script>
    <script type="text/javascript" src="js/routing.js?v=1"></script>
    <script type="text/javascript" src="js/app.js?v=1"></script>
    <link rel="stylesheet" href="css/stylesheet.css?v=1">
    <link rel="stylesheet" href="css/fontawesome.min.css">
    <link rel="stylesheet" href="css/solid.min.css">

    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    <link rel="manifest" href="/favicons/site.webmanifest">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

</head>
<body>
<div class="app">
    <div>
        <div id="heading" class="flex_row">
            <div id="settings">
                <i class="fas fa-sliders-h"></i>
            </div>
            <div id="menu" class="flex_row">
                <div data-tab="ratfinder">
                    RAT-FINDER
                </div>
                <div data-tab="building">
                    BUILDINGS
                </div>
                <div data-tab="research" class="selected">
                    RESEARCH
                </div>
            </div>
        </div>
        <div id="tabs">

            <div id="ratfinder_tab">
                <div id="instructions">
                    <h2>Instructions:</h2>
                    <p> ==> This is tool can show you who unfinished mines<== </p>
                    <p>First enter <strong>"Land ID"</strong> (not working on lands don't have owner), Enter data/time in <strong>"From"</strong> like this <strong>"2023-2-20"</strong>, and in <strong>"To"</strong> enter second data/time like this <strong>"2023-2-21"</strong>, then click on <strong>"Get Result"</strong>.</p>
                    <p>Now just find your continent or you can search for text on your browser like this <strong>"continent":42</strong> then player have more decimals on <strong>"total"</strong> leave the mine unfinished.</p>
                    <p>Example:</p>
                    <a href="https://imgbb.com/"><img src="https://i.ibb.co/TqH7J4v/rat.png" alt="rat" border="0"></a>
                </div>
                <form onsubmit="return false;">
                    <label for="landId"><strong>Land ID:</strong></label>
                    <input type="text" id="landId" value="">
                    <label for="from"><strong>From:</strong></label>
                    <input type="text" id="from" value="">
                    <label for="to"><strong>To:</strong></label>
                    <input type="text" id="to" value="">
                    <button onclick="getResult()">Get Result</button>
                </form>
                <div id="result"></div>
            </div>

            <div id="building_tab">
                <div id="building_container" class="container">
                    <span>Choose a Building</span>
                    <select id="building_select">
                        <option value="none">&nbsp;</option>
                        <option value="castle">Castle</option>
                        <option value="academy">Academy</option>
                        <option value="treasure_house">Treasure house</option>
                        <option value="hospital">Hospital</option>
                        <option value="hall_of_alliance">Hall of alliance</option>
                        <option value="storage">Storage</option>
                        <option value="trading_post">Trading post</option>
                        <option value="wall">Wall</option>
                        <option value="watch_tower">Watch tower</option>
                        <option value="barrack">Barrack</option>
                        <option value="farm">Farm</option>
                        <option value="lumber_camp">Lumber Camp</option>
                        <option value="quarry">Quarry</option>
                        <option value="gold_mine">Gold mine</option>
                    </select>
                </div>
                <div id="building_level_container" class="container">
                    <span>Choose Level</span>
                    <select id="building_level_select">
                    </select>
                </div>
                <div id="building_result_container" class="container">
                    <div class="result_item_container">
                        <div class="result_heading">
                            Required Resources
                        </div>
                        <div id="building_result_resources" class="flex_column">

                        </div>
                    </div>
                    <div class="result_item_container">
                        <div class="result_heading">
                            Required Building(s)
                        </div>
                        <div id="building_result_requirements" class="flex_row justify_around">

                        </div>
                    </div>
                    <div class="result_item_container flex_column">
                        <div class="result_heading">
                            Time
                        </div>
                        <div id="building_result_time" class="flex_column">

                        </div>
                    </div>
                </div>
            </div>
            <div id="research_tab">
                <div id="research_container" class="container">
                    <span>Choose a Research Tree</span>
                    <select id="research_tree_select">
                        <option value="none">&nbsp;</option>
                        <option value="battle">Battle</option>
                        <option value="production">Production</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>
                <div id="research_research_container" class="container">
                    <span>Choose Research</span>
                    <select id="research_research_select">
                    </select>
                </div>
                <div id="research_level_container" class="container">
                    <span>Choose Level</span>
                    <select id="research_level_select">
                    </select>
                </div>
                <div id="research_result_container" class="container">
                    <div class="result_item_container">
                        <div class="result_heading">
                            Required Resources
                        </div>
                        <div id="research_result_resources" class="flex_column">

                        </div>
                    </div>
                    <div class="result_item_container">
                        <div class="result_heading">
                            Required Building/Research
                        </div>
                        <div id="research_result_requirements" class="flex_row justify_around">

                        </div>
                    </div>
                    <div class="result_item_container flex_column">
                        <div class="result_heading">
                            Time
                        </div>
                        <div id="research_result_time" class="flex_column">

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div style="display: flex; justify-content: center; align-items: center; margin-top: 20px; font-size: 16px; color: #ffffffdc;">
        Made with 
        <span style="color: #f51b03; margin: 0 5px;">&hearts;</span> 
        by AmoAlireza
      </div>
</div>

<div id="overlays">
    <div class="overlay_app">
        <div class="overlay_header flex_row">
            <div></div>
            <div>SETTINGS</div>
            <div class="close_overlay"><i class="fas fa-times"></i></div>
        </div>
        <div id="settings_overlay">
            <div class="overlay_content">

                <div id="buildingspeed_container" class="setting_item_container">
                    <div class="setting_heading">
                        Building Speed Settings
                    </div>
                    <div class="setting_row flex_row justify_between">
                        <span>Construction Speed</span>
                        <div><input type="text" id="buildingspeed_input"><span>&#037;</span></div>
                    </div>
                </div>

                <div id="researchspeed_container" class="setting_item_container">
                    <div class="setting_heading">
                        Research Speed Settings
                    </div>
                    <div class="setting_row flex_row justify_between">
                        <span>Research Speed</span>
                        <div><input type="text" id="researchspeed_input"><span>&#037;</span></div>
                    </div>
                </div>

                <div id="help_container" class="setting_item_container">
                    <div class="setting_heading">
                        Help Settings
                    </div>
                    <div class="setting_row flex_row justify_between">
                        <span>Hall of alliance level</span>
                        <select id="help_hall_level">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                        </select>
                    </div>
                    <div class="setting_row flex_row justify_between">
                        <span>Alliance help Speedup 1 research level</span>
                        <select id="help_alliance_1">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                    <div class="setting_row flex_row justify_between">
                        <span>Alliance help Speedup 2 research level</span>
                        <select id="help_alliance_2">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </div>
                </div>
                <div id="tips_container" class="setting_item_container">
                    <div class="setting_heading">
                        Tips
                    </div>
                    <div>Q: How to find 'Construction Speed'?</div>
                    <div>A: Click on your castle then castle icon.</div>
                    <div>------------------------------------------------</div>
                    <div>Q: How to find 'Research Speed'?</div>
                    <div>A: Click on your kingdom then castel icon.</div>
                    <div>------------------------------------------------</div>
                    <div>Q: How to find 'Alliance help Speedup 1 research level'?</div>
                    <div>A: Click on Alliance/TECHNOLOGY/PRODUCTION.</div>
                    <div>------------------------------------------------</div>
                    <div>Q: How to find 'Alliance help Speedup 2 research level'?</div>
                    <div>A: Click on Alliance/TECHNOLOGY/PRODUCTION.</div>
                </div>
            </div>
        </div>
    </div>

</div>
<script>
    function getResult() {
      var landId = document.getElementById("landId").value;
      var from = document.getElementById("from").value;
      var to = document.getElementById("to").value;
      var apiUrl = "https://api-lok-live.leagueofkingdoms.com/api/stat/land/contribution?landId=" + landId + "&from=" + from + "&to=" + to;
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          var result = JSON.stringify(data, null, 2);
          document.getElementById("result").innerText = result;
        })
        .catch(error => console.error(error));
    }
  </script>
</body>
</html>
